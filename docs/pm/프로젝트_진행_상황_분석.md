# (ddoksori_demo)    

****: 2026-01-07  
****: Multi-Agent System Product Manager  
****: v1.0

---

##  Executive Summary

       Multi-Agent System(MAS)    ,  **PR3  RAG **  .   ,  ,       ,        .

###  
-  RAG     (Dense Vector + Keyword Search + )
-      (  +  )
-     (12 )
-   11,976 , 20,269    (99.95% )

###  
**PR3 ** → **PR4  ** (MAS  )

---

## 1.   

### 1.1    

|  |  |  | / |
|------|------|------|-----------|
| **** | React |    | 18+ (Echo  ) |
| | TypeScript |    | 5+ |
| | TailwindCSS |    | 3+ |
| **** | FastAPI |   | 0.100+ |
| | LangChain |    | 0.1+ ( ) |
| | LangGraph |   | 0.0.40+ |
| | Pydantic |   | 2+ |
| | psycopg2 |   | 2.9+ |
| **** | PostgreSQL |   | 16 |
| | pgvector |   | 0.5+ (IVFFlat ) |
| **AI/ML** | KURE-v1 |   | 1024  |
| | OpenAI GPT |    | GPT-4o-mini |
| | Anthropic Claude |   | - |
| **RAG ** | Vector Search |   |   |
| | Keyword Search |   | PostgreSQL FTS |
| | Hybrid Search |   |   |
| | Query Analyzer |   |    |
| | Specialized Retrievers |   | Law/Criteria/Case |
| **** | Evaluation Framework |   | 12  |
| **** | Docker Compose |   |    |
| | AWS EC2 |   | - |
| | Nginx |   | - |

### 1.2   

#### RAG 
- [`backend/app/rag/retriever.py`](../../backend/app/rag/retriever.py):  Vector 
- [`backend/app/rag/hybrid_retriever.py`](../../backend/app/rag/hybrid_retriever.py):  
- [`backend/app/rag/query_analyzer.py`](../../backend/app/rag/query_analyzer.py):  
- [`backend/app/rag/reranker.py`](../../backend/app/rag/reranker.py):  
- [`backend/app/rag/specialized_retrievers/`](../../backend/app/rag/specialized_retrievers/):   (Law/Criteria/Case)

####  
- [`backend/scripts/data_processing/data_transform_pipeline.py`](../../backend/scripts/data_processing/data_transform_pipeline.py):   
- [`backend/scripts/data_processing/metadata_enricher.py`](../../backend/scripts/data_processing/metadata_enricher.py):  

####  
- [`backend/evaluation/`](../../backend/evaluation/):   

---

## 2.  

### 2.1   (2026-01-07 )

|  |  |
|------|------|
| **  ** | 11,976 |
| **   ** | 20,269 |
| **  ** | 20,259 |
| ** ** | 99.95% |

### 2.2   

|   |  |   |   |    |   |
|-------------|------|---------|---------|----------------|-------------|
| **** | consumer.go.kr | 11,342 | 13,524 | 450 | 13,524 (100%) |
| **** | KCA | 358 | 3,203 | 530 | 3,193 (99.7%) |
| **** | ECMC | 274 | 2,344 | 549 | 2,344 (100%) |
| **** | KCA | 1 | 139 | 251 | 139 (100%) |
| **** | statute | 1 | 1,059 | 152 | 1,059 (100%) |
| **** | - | **11,976** | **20,269** | ** 443** | **20,259 (99.95%)** |

### 2.3   

####   (13 )
- `backend/data/law/Civil_Law_chunks.jsonl`
- `backend/data/law/Consumer_Basic_Law_chunks.jsonl`
- `backend/data/law/E_Commerce_Consumer_Law_chunks.jsonl`
-  10  

####   (6 )
- `backend/data/criteria/table2_resolution_row_chunks.jsonl` ()
- `backend/data/criteria/content_guideline_chunks.jsonl`
- `backend/data/criteria/ecommerce_guideline_chunks.jsonl`
-  3  

####  
- ****: KCA(358), ECMC(274), KCDRC
- ****: consumer.go.kr (11,342)

### 2.4  

#### 
-     (99.95%)
-      (law: 152, criteria: 251, case: 530)
-     (, ,  )

####  
-       (13  1  )
-     (table2_resolution_row , table1/3/4 )
-  KCDRC  
-  (consultation_cases)  

---

## 3.   

### 3.1 RAG  

#### Vector Search ( )
- KURE-v1  (1024) 
- IVFFlat  
-  : doc_type, chunk_type, source_org

#### Keyword Search (PostgreSQL FTS)
- Full-Text Search 
-  
-   

#### Hybrid Search
- Dense Vector + Keyword Search 
-     
-    

####  (Reranking)
-   
-  
-  
-   = (40%) + (30%) + (20%) + (10%)

### 3.2   (Query Analysis) 

****:
-     (LEGAL / PRACTICAL / PRODUCT_SPECIFIC / GENERAL)
-   ( +  )
-    ()
-  
-   

****:
```python
query = "   ?"
result = analyzer.analyze(query)
# result.query_type: PRODUCT_SPECIFIC
# result.extracted_items: ['']
# result.dispute_types: ['']
```

### 3.3   (Specialized Retrievers) 

#### Law Retriever ( )
-    (50%)
-   (30%)
-   (20%)

#### Criteria Retriever ( )
-    (40%)
-    (30%)
-   (20%)
-   (10%)

#### Case Retriever ( )
-   (40%)
- Chunk Type  (30%)
-  (20%)
-   (10%)

### 3.4   

**12  **:
- Precision@K, Recall@K, F1@K
- MAP (Mean Average Precision)
- MRR (Mean Reciprocal Rank)
- NDCG@K (Normalized Discounted Cumulative Gain)
- Document Type Coverage
- Source Diversity
- Query Time

**Golden Dataset**: `backend/evaluation/datasets/gold_v1.json`

### 3.5    

****:
-   (   /   )
-   (, ,    )
- chunk_type   
-    drop 
-    (   )

---

## 4.  

### 4.1 Multi-Agent System (MAS) 

** ** (README.md ):
1. Query Analysis Agent
2. Information Retrieval Agent
3. Answer Generation Agent
4. Legal Review Agent

** ** (PR4_README.md):
1. Jurisdiction Agent (  )
2. Precedent Agent ( )
3. Consultation Agent (  Fallback)

****:  , LangGraph   

### 4.2   (Answer Generation) 

** **:  LLM     

** **:
-   
- Few-Shot Examples  
- CoT (Chain-of-Thought) 
-   
-    

### 4.3   (Legal Review) 

** **:
- Citation Verification (  )
- Hallucination Detection (  )
- Tone Adjustment (  →  )

****: 

### 4.4   

** **:
- WebSocket/SSE    
-  

****: 

### 4.5    

** **:
-   (/)
-    
- LangSmith 

****: 

### 4.6      

** ** (PR10):
-  
-  CRUD
-  
-     (RBAC)

****: 

### 4.7   

** **:
- AWS EC2 
- Nginx  
- SSL 
- Docker Volume 

****:    

---

## 5.      

### 5.1  

|  |  |  |
|------|---------|--------|
|       |   |    |
|    (table1/3/4 ) |   |   |
| KCDRC   |   |    |
|    |   | Fallback   |

### 5.2  

|  |  |  |
|------|---------|--------|
| IVFFlat vs HNSW    |   |    |
|      |   |  |
|     |   |   |

### 5.3  

|  |  |  |
|------|---------|--------|
| Semantic Chunking  |   |     |
| Hierarchical Chunking  |   |    |
| Context-Aware Overlap  |   |    |

### 5.4 

|  |  |  |
|------|---------|--------|
| MAS  |   |    |
|    |   |  |
|   Observability  |   |   |
| DB    |   |   |

### 5.5 

|  |  |  |
|------|---------|--------|
|  UI  (Echo ) |   |   |
|    |   |   |
| /   |   | UX |

### 5.6 

|  |  |  |
|------|---------|--------|
|    |   |   |
|    |   |   |
| E2E   |   |    |

---

## 6.   

### 6.1   (1-2)

1. **MAS  ** (PR4)
   - LangGraph  Orchestrator
   - Jurisdiction / Precedent / Consultation Agent
   -  

2. **  **
   -    (13  )
   -     (table1/3/4 )
   - KCDRC   

3. **  **
   -   
   -   
   -   

### 6.2   (1-2)

1. **Legal Review Agent **
   - Citation Verification
   - Hallucination Detection
   - Tone Adjustment

2. ** **
   - WebSocket/SSE 
   -  

3. **UI/UX **
   -   
   -  
   - / 

### 6.3   (3-6)

1. **  **
   - /
   - 
   -  

2. ** **
   - AWS EC2 
   - CI/CD 
   -  

3. ** **
   -  
   - DB  
   -  

---

## 7. 

  **PR3   RAG **     .  ,  , ,        , **  MAS    **.

###  
-     
-     ( +  )
-    
-     (99.95%  )

###  
1.  **MAS  ** (  )
2.  **  ** (/  )
3.  ** UI ** (  →  )

      ,     **2-3    MAS **  .

---

****: Multi-Agent System Product Manager  
** **: 2026-01-07
